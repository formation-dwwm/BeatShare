{% extends 'base.html.twig' %}

{% block body %}

<section style="padding: 40rem; padding-top: 15rem; padding-bottom: 0rem;">

    <form action="{{ path('security_login') }}" method="post" class="white shadow-lg">

      <h2 style="text-align: center;">Connexion</h2>

        <div class="form-group">
            <label>Email :</label>
                <input type="email" class="form-control" required name="_username" placeholder="Email" value="{{ last_username }}">
        </div>

        <div class="form-group">
            <label>Mot de passe :</label>
                <input type="password" class="form-control" required name="_password" placeholder="Mot de passe">
        </div>

        </div class="form_group">
            <button id="submit-login" type="submit" class="btn btn-blue-grey w-100 m-0 mt-2">Connexion</button>
        </div>

        <div id="loading-animation" class="d-flex justify-content-center mt-4">
            <div class="spinner-border" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
    </form>

  

        {% if error %}
            <div class="alert alert-danger">Email ou mot de passe invalide</div>
        {% endif %}
</section>

<script>
let loading = document.getElementById('loading-animation');
let submit = document.getElementById('submit-login');

loading.style.setProperty('visibility', 'hidden', 'important');

submit.addEventListener('click', () => {
    loading.style.setProperty('visibility', 'visible', 'important');
})

console.log(loading);
</script>

{% endblock %}

