{% extends 'base.html.twig' %}

{% block body %}

<section  id="form-section">

    <form action="{{ path('security_login') }}" method="post">
        
        <div id="form-header" class="d-flex justify-content-center align-items-center">
            <img src="images/Logo/logo_transparent.png" width="128px">
        </div>

        <div>
            <label>Email :</label>
                <input type="email" required name="_username" placeholder="Email" value="{{ last_username }}">
        </div>

        <div>
            <label>Mot de passe :</label>
                <input type="password" required name="_password" placeholder="Mot de passe">
        </div>

        <div>
            <button id="submit-login" type="submit" class="btn w-100 m-0 mt-2">Connexion</button>
        </div>

        <div id="loading-animation" class="d-flex justify-content-center mt-4">
            <div class="spinner-border" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
    </form>

  

        {% if error %}
            <div class="alert alert-danger w-75" style="position: absolute; top: 0; margin-left: 12.5%;">Email ou mot de passe invalide</div>
        {% endif %}

</section>

<script>

    let loading = document.getElementById('loading-animation');
    let submit = document.getElementById('submit-login');

    loading.style.setProperty('visibility', 'hidden', 'important');

    submit.addEventListener('click', () => {
        loading.style.setProperty('visibility', 'visible', 'important');
    });


    window.addEventListener('load', () => scrollFunction());

    function scrollFunction() {

    let navbar = document.querySelector('.navbar');
    let search = document.getElementById('wrap');
    let hamburger = document.getElementsByClassName('burgerMenu'); 
    let navbarBrand = document.getElementById('navbar-brand');

    hamburger.forEach(element => {
        element.style.setProperty('background', '#37474f', 'important');
    });
    navbar.style.backgroundColor = "white";
    navbar.style.setProperty('box-shadow', '0 2px 5px 0 rgba(0,0,0,.16), 0 2px 10px 0 rgba(0,0,0,.12)', 'important');
    navbar.style.setProperty('transition', '700ms', 'important');
    search.style.setProperty('visibility', 'visible', 'important');
    navbarBrand.style.color = "#37474f";
    }

</script>

<style>

    body{
        background-color: white !important;
    }
    
</style>

{% endblock %}

